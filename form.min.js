$(document).ready(function(){function n(t,e){var n=$("#description").val().substring(0,$("#description").caret().start),i=$("#description").val().substring($("#description").caret().end,$("#description").val().length);$("#description").val(n+t+$("#description").caret().text+e+i),$("#preview").html($("#description").val())}$("#description").change(function(){});var t=0,e=0;$("#description").mousemove(function(n){t=n.pageX,e=n.pageY}),$("#description").mousedown(function(){$("#menu").fadeOut("1000")}),$("#description").select(function(){$("#menu").css("top",e-30).css("left",t+10).fadeIn("1000")}),$("#bold").click(function(){n("<b>","</b>"),$("#menu").fadeOut("1000")}),$("#italic").click(function(){n("<i>","</i>"),$("#menu").fadeOut("1000")}),$("#underline").click(function(){n("<u>","</u>"),$("#menu").fadeOut("1000")}),$("#h2").click(function(){n("<h2>","</h2>"),$("#menu").fadeOut("1000")}),$("#h3").click(function(){n("<h3>","</h3>"),$("#menu").fadeOut("1000")}),$("#right").click(function(){n("<p align='right'>","</p>"),$("#menu").fadeOut("1000")}),$("#center").click(function(){n("<p align='center'>","</p>"),$("#menu").fadeOut("1000")}),$("#image").click(function(){n("<img src='","'>"),$("#menu").fadeOut("1000")}),$("#jg").click(function(){n("<font color='blue'><b>","</b></font>"),$("#menu").fadeOut("1000")}),$("#abz").click(function(){n("<p align='left'>","</p>"),$("#menu").fadeOut("1000")}),$("#link").click(function(){var t=prompt("Введите URL","http://");null!=t&&n("<a href='"+t+"'>","</a>"),$("#menu").fadeOut("1000")}),$("#description").keyup(function(){value=$("#description").val(),$("#preview").html(value)}),$("#description").on("paste",function(){value=$("#description").val(),$("#preview").html(value)})});